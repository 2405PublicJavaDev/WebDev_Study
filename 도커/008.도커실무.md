# 도커 실무

## 문서 관리자

조승효(문서 생성자)

## 레이어 관리

![](./img/레이어관리.PNG)
![](./img/레이어관리2.PNG)
![](./img/레이어관리3.PNG)

- 이미지 크기 줄이기: 모듈로 분리하기, 베이스 이미지는 가능한 작게 alpine os 를 선택하는 것이 좋음, .dockerignore 파일을 이용해서 불필요한것 추가하지 않기
- 실무에서는 이미지 용량을 줄이려고 Go 언어를 사용하는 경우도 많다.

## 캐싱을 활용한 빌드

![](./img/캐시.PNG)
![](./img/캐시2.PNG)

- 잘 변경되지 않는 레이어를 아래로 두는게 유효한 전략. 왜냐하면 변경된 레이어 위부터는 새로운 레이어를 쌓아가기 때문에.

![](./img/캐시3.PNG)

## 3 Tier 아키텍처 구성

![](./img/3tierarchitecture.PNG)

- 세 가지 종류의 서버가 유기적으로 상호작용하면서 하나의 애플리케이션으로 구성되는 것을 3Tier 아키텍처라고 한다. Tier 는 하나의 단계를 의미함.
- 근데 백엔드 애플리케이션이 노출되어 있는 것은 좋은게 아닌 것 같은데 이걸 어떻게 해결할까?
  ![](./img/nginx프록시.PNG)
  ![](./img/3tierarchitecture2.PNG)

  ## 동적 서버 설정

  ![](./img/동적서버1.PNG)
  ![](./img/동적서버2.PNG)

  ## 이중화 DB 구성

  ![](./img/이중화1.PNG)
  ![](./img/이중화DB구성1.PNG)
  ![](./img/이중화DB구성2.PNG)

## 컨테이너 애플리케이션 최적화

![](./img/컨테이너애플리케이션최적화1.PNG)
![](./img/컨테이너애플리케이션최적화2.PNG)
![](./img/자바가상머신튜닝.PNG)

- 힙 메모리는 일반적으로 서버 전체 메모리의 50~80% 수준으로 지정을 하는데 컨테이너 별로 달라야 한다.
  ![](./img/자바가상머신튜닝2.PNG)

  ## VS Code

  ![](./img/vscode1.PNG)
  ![](./img/vscode2.PNG)
  ![](./img/vscode3.PNG)
  ![](./img/vscode4.PNG)
