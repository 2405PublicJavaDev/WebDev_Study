# 인터넷에서의 AS 내부 라우팅: OSPF
## 문서 관리자
조승효(문서 생성자)
## 시작
   - 네트워크를 단순히 상호 연결된 라우터의 집합으로 보았다. 모든 라우터가 동일한 라우팅 알고리즘을 수행하여 네트워크 전체의 라우팅 경로를 계산한다는 점에서 하나의 라우터를 다른 라우터와 구별할 수 없었다. 실제로 이 네트워크 모델 동일한 라우팅 알고리즘을 수행하는 동정의 라우터 집합으로 간주하는 관점은 다음의 두 가지 중요한 이유 때문에 단순하다고 할 수 있다.
      - 확장: 라우터의 수가 증가함에 따라 라우팅 정보의 통신, 계산 저장에 필요한 오버헤드가 걷잡을 수 없이 증가한다. 인터넷처럼 큰 네트워크에서 경로 계산의 복잡성을 감소시킬 방법이 분명 필요하다.
      - 관리 자치: 인터넷은 ISP들의 네트워크이고 각 ISP들은 자신의 라우터들로 구성된 네트워크이다. ISP는 일반적으로 자신의 네트워크를 원하는대로 운용하거나 네트워크 내부 구성을 외부에 감추기를 원한다. 이상적으로 하나의 조직은 자신의 네트워크를 외부 네트워크에 연결하면서도 자신이 원하는 대로 네트워크를 운영하고 관리할 수 있어야 한다.
   - 이 두가지 문제는 라우터들을 자율 시스템(autonomous system, AS)으로 조직화하여 해결할 수 있다. 각 AS는 동일한 관리 제어하에 있는 라우터의 그룹으로 구성된다. 한 ISP의 라우터와 그들을 연결하는 링크가 종종 하나의 AS 를 이룬다.
   - 어떤 ISP들은 그들의 네트워크를 여러 개의 AS로 나누기도 한다. 특히 1-계층(tier-1)의 어떤 ISP들은 그들의 전체 네트워크를 하나의 거대한 AS로 관리하는 반면, 다른 ISP들은 수십개의 서로 연결된 AS들로 나누기도 한다.
   - 자율 시스템은 전세계적으로 고유한 AS 번호(autonomous system number, ASN)로 식별된다. AS 번호는 IP 주소처럼 ICANN의 지역 등록 기관에 의해 할당된다.
   - 같은 AS안에 있는 라우터들은 동일한 라우팅 알고리즘을 사용하고 상대방에 대한 정보를 가지고 있다. 자율 시스템 내부에서 동작하는 라우팅 알고리즘을 AS 내부 라우팅 프로토콜(intra-autonomous system routing protocol) 이라고 한다.
### 개방형 최단 경로 우선(Open Shortest Path First, OSPF) 프로토콜
   - OSPF 라우팅과 그의 가까운 사촌격인 IS-IS는 인터넷에서 인트라-AS 라우팅에 널리 사용된다.
   - OSPF는 링크 상태 정보를 플러딩(flooding)하고 다익스트라 최소 비용 경로 알고리즘을 사용하는 링크 상태 알고리즘이다.
   - OSPF를 이용하여 각 라우터는 전체 AS에 대한 완벽한 토폴로지 지도(즉, 그래프)를 얻는다. 각 라우터는 자신을 루트 노드로 두고 모든 서브넷에 이르는 최단 경로 트리를 결정하기 위해서 혼자 다익스트라의 최단 경로 알고리즘을 수행한다. 개별 링크들의 비용은 네트워크 관리자가 구성한다.
   - OSPF를 사용하는 라우터는 인접한 라우터만이 아니라 자율 시스템 내의 다른 모든 라우터에게 라우팅 정보를 브로드캐스트한다.
   - 보안: OSPF 라우터들 간의 정보 교환이 인증될 수 있다. 인증을 통해 신뢰할 수 있는 라우터들만이 AS 내부의 OSPF 프로토콜에 참여할 수 있고 악의적인 침입자가 잘못된 정보를 아투 테이블에 삽입하는 것을 막게 된다.
   - 복수 동일 비용 경로: 하나의 목적지에 대해 동일한 비용을 가진 여러개의 경로가 존재할 때 OSPF는 여러 개의 경로를 사용할 수 있도록 한다
   - 유니캐스트와 멀티캐스트 라우팅의 통합 지원: 멀티캐스트 OSPF (MOSPF)는 멀티캐스트 라우팅 기능을 제공하기 위해 OSPF를 단순 확장하였다. MOSPF는 기존의 OSPF 링크 데이터베이스를 사용하고 OSPF 링크상태 브로드캐스트 메커니즘에 새로운 형태의 링크 상태 알림을 추가한다.
   - 단일 AS 내에서의 계층 지원: OSPF의 자율 시스템(AS)은 계층적인 영역으로 구성될 수 있다.