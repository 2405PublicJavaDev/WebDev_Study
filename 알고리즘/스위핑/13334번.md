# 13334번: 철로

## 문서 관리자

조승효(문서 생성자)

## 문제 풀이

철로 L이 놓이는 위치를 $(L_{start}, L_{end})$ 라고 하자. 단 여기에서 $L_{end} - L_{start} = L$ 임을 명심하자. 그렇다면 이 문제는 $L_{start}$의 위치를 어떻게 조절해서 가장 많은 사람들에 대하여 집과 사무실 위치 모두 포함되는 선분을 정하는 문제이다.

근데 여기에서 문제는 포함되는 경우로 하면 문제가 상당히 헷갈려진다는 것이다. $L_{start}$ 로 정렬해볼까? $L_{end}$ 로 정렬해볼까? 근데 어떻게 해도 잘 안되는 것이다. 그렇다면 반대로 생각을 해보자. 전체 경우에서 포함되지 않는 경우를 빼는 것이 곧 포함되는 경우이지 않을까?

집과 사무실의 경로를 $(P_{start}, P_{end})$ 라고 해보자. 그렇다면 이게 $(L_{start}, L_{end})$ 에 포함되지 않으려면 $P_{start} < L_{start}$ or $P_{end} > L_{end}$ 여야 한다.

다시 말해 포함되지 않는 경우의 수는 다음 경우의 수를 포함한다.

- $P_{start} < L_{start}$ 를 만족하는 경로의수
- $P_{end} > L_{end}$ 를 만족하는 경로의 수

근데 여기에서 중복이 있을 수 있다. 즉 저 경우의 수의 합에 $P_{start} < L_{start}$ and $P_{end} > L_{end}$ 를 만족하는 경로의 수를 빼야 한다.

근데 $P_{start} < L_{start}$ and $P_{end} > L_{end}$ 는 다시 말하면 L보다 큰 경로임을 의미한다. 사실 여기에서 힌트를 얻을 수 있는데 모든 $(P_{start}, P_{end})$ 에 대해서 고려할 필요 없이 $P_{end} - P_{start} \le L$ 인 것에 대해서만 고려하면 된다는 것이다. 여기에 대해서만 고려하면 결과적으로 포함되지 않는 경우의 수는 $P_{start} < L_{start}$ 를 만족하는 경로의수 + $P_{end} > L_{end}$ 를 만족하는 경로의 수 이며

포함되는 경우의 수는 $P_{end} - P_{start} \le L$ 의 경우의 수에 포함되지 않는 경우의 수를 빼면 된다.

이렇게 구했었는데 스위핑 알고리즘으로도 구할수 있다더라

## 문제 링크

https://www.acmicpc.net/problem/13334
